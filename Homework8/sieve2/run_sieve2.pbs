#!/bin/bash
# # # # # # # # 

# MPI specify resources needed in number of nodes and processes per node
#PBS -l nodes=32:ppn=8

# Give the job a unique-to-you name in Torque
#PBS -N ajs94_sieve2_32_8

# Optional: If you want to be notified, tell Torque how/when...
#    -m  accepts up to all three control flags 'a','b','e', where:
#        a = mail is sent when the job is aborted
#        b = mail is sent when the job begins execution
#        e = mail is sent when the job finishes execution
#  and be sure to use your email address!
#PBS -m abe -M ajs94@students.calvin.edu

# Change to the working directory and execute spmd
cd $PBS_O_WORKDIR
mpirun -np 4 ./sieve2 1000000000
mpirun -np 8 ./sieve2 1000000000
mpirun -np 16 ./sieve2 1000000000
mpirun -np 32 ./sieve2 1000000000
mpirun -np 64 ./sieve2 1000000000
mpirun -np 128 ./sieve2 1000000000
mpirun -np 256 ./sieve2 1000000000




